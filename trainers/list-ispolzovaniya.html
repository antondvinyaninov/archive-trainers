<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–µ–Ω–∞–∂–µ—Ä: –õ–∏—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-header {
            background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
        }
        
        @media print {
            .no-print { display: none; }
        }
        
        .timer-fixed {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 1000;
            background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
            color: white;
            padding: 16px 20px;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(22, 163, 74, 0.4);
        }
        
        .timer-warning {
            animation: pulse 1s infinite;
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 768px) {
            .gradient-header h1 {
                font-size: 1.75rem !important;
            }
            
            .gradient-header p {
                font-size: 1rem !important;
            }
            
            .timer-fixed {
                bottom: 12px;
                right: 12px;
                padding: 12px 16px;
                border-radius: 12px;
            }
            
            .timer-fixed .text-3xl {
                font-size: 1.5rem;
            }
            
            .timer-fixed .text-2xl {
                font-size: 1.25rem;
            }
            
            .document-table {
                font-size: 11px;
            }
            
            .document-table input,
            .document-table select {
                font-size: 11px;
                padding: 2px;
            }
            
            body {
                font-size: 14px;
            }
        }
        
        @media (max-width: 480px) {
            .gradient-header {
                padding: 1.5rem 0 !important;
            }
            
            .gradient-header h1 {
                font-size: 1.5rem !important;
            }
            
            .timer-fixed {
                bottom: 8px;
                right: 8px;
                padding: 8px 12px;
            }
            
            .document-table {
                font-size: 10px;
            }
        }
        
        .document-table {
            border-collapse: collapse;
            width: 100%;
        }
        
        .document-table th,
        .document-table td {
            border: 1px solid #000;
            padding: 8px;
            text-align: center;
            vertical-align: top;
        }
        
        .document-table th {
            font-weight: normal;
            font-size: 14px;
        }
        
        .input-field {
            border: none;
            border-bottom: 1px dashed #3b82f6;
            background: #f0f9ff;
            text-align: center;
            padding: 2px 5px;
            font-size: inherit;
            font-family: inherit;
        }
        
        .input-field:focus {
            outline: 2px solid #3b82f6;
            background: #dbeafe;
        }
        
        .input-field.correct {
            background: #dcfce7 !important;
            border-bottom-color: #22c55e !important;
        }
        
        .input-field.incorrect {
            background: #fee2e2 !important;
            border-bottom-color: #ef4444 !important;
        }
        
        .header-input {
            width: 100%;
            min-height: 80px;
            resize: vertical;
        }
        
        .number-input {
            width: 60px;
        }
        
        .table-input {
            width: 100%;
            min-width: 80px;
        }
        
        .document-container {
            max-width: 100%;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <div class="gradient-header text-white py-6 md:py-8 mb-6 md:mb-8">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex items-center justify-between mb-3 md:mb-4">
                <a href="../index.html" class="inline-flex items-center gap-2 bg-white/20 hover:bg-white/30 text-white px-3 md:px-4 py-2 rounded-lg transition text-sm md:text-base">
                    <span>‚Üê</span>
                    <span>–ù–∞ –≥–ª–∞–≤–Ω—É—é</span>
                </a>
                <div class="text-xs md:text-sm opacity-90">–ê–ù–û –î–ü–û ¬´–£–¶–ò–ë¬ª</div>
            </div>
            <h1 class="text-2xl md:text-4xl font-bold mb-2">üìù –õ–∏—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</h1>
            <p class="text-base md:text-xl opacity-90">–¢—Ä–µ–Ω–∞–∂–µ—Ä –ø–æ –∞—Ä—Ö–∏–≤–Ω–æ–º—É –¥–µ–ª—É</p>
        </div>
    </div>
    
    <!-- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–∞–π–º–µ—Ä -->
    <div id="timer" class="timer-fixed no-print">
        <div class="flex items-center gap-3">
            <span class="text-3xl">‚è±Ô∏è</span>
            <div>
                <div class="text-xs opacity-90 font-medium">–û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏</div>
                <div id="timer-display" class="text-2xl font-bold">10:00</div>
            </div>
        </div>
    </div>

    <div class="max-w-6xl mx-auto px-4 pb-8">
        <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
        <div class="no-print mb-6 bg-white rounded-xl shadow-lg p-6">
            <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
            <h2 class="text-lg font-bold text-green-800 mb-3">üìù –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞</h2>
            <p class="text-green-700 mb-3">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ "–õ–∏—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤" —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º —Å–∏—Ç—É–∞—Ü–∏–∏:</p>
            <ul class="text-gray-700 text-sm list-disc list-inside space-y-2">
                <li><strong>–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:</strong> —É–∫–∞–∂–∏—Ç–µ –∫–∞–∫ –≤ –ö–∞—Ä—Ç–æ—á–∫–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</li>
                <li><strong>–û–ø–∏—Å—å ‚Ññ:</strong> –Ω–æ–º–µ—Ä –æ–ø–∏—Å–∏ –¥–µ–ª –ø–æ –ª–∏—á–Ω–æ–º—É —Å–æ—Å—Ç–∞–≤—É –∑–∞ 2023 –≥–æ–¥</li>
                <li><strong>–ï–¥.—Ö—Ä. ‚Ññ:</strong> –Ω–æ–º–µ—Ä –µ–¥–∏–Ω–∏—Ü—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ –æ–ø–∏—Å–∏ –¥–µ–ª –ø–æ –ª–∏—á–Ω–æ–º—É —Å–æ—Å—Ç–∞–≤—É –∑–∞ 2023 –≥–æ–¥. –î–µ–ª–æ –≤ –æ–ø–∏—Å–∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è ¬´–õ–∏—á–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —É–≤–æ–ª–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –≤ 2023 –≥–æ–¥—É (–§. ‚Ññ –¢-2)¬ª</li>
                <li><strong>–î–∞—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:</strong> —Å–µ–≥–æ–¥–Ω—è—à–Ω—è—è –¥–∞—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç –î–î.–ú–ú.–ì–ì–ì–ì)</li>
                <li><strong>–ö–æ–º—É –≤—ã–¥–∞–Ω–æ:</strong> –§–∞–º–∏–ª–∏—è –∏ –∏–Ω–∏—Ü–∏–∞–ª—ã –∞—Ä—Ö–∏–≤–∏—Å—Ç–∞</li>
                <li><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:</strong> –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</li>
                <li><strong>‚Ññ‚Ññ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –ª–∏—Å—Ç–æ–≤:</strong> —É–∫–∞–∂–∏—Ç–µ –Ω–∞ –∫–∞–∫–∏—Ö –ª–∏—Å—Ç–∞—Ö –≤ –¥–µ–ª–µ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –ª–∏—á–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –ú–∞–π–æ—Ä–æ–≤–æ–π –ê.–ù.</li>
            </ul>
            </div>
        </div>

        <!-- –î–æ–∫—É–º–µ–Ω—Ç -->
        <div class="document-container rounded-xl" id="document">
            <!-- –®–∞–ø–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
            <div class="text-center mb-4">
                <textarea 
                    id="org-name" 
                    class="input-field header-input text-center" 
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏..."
                    rows="5"
                ></textarea>
                <div class="text-sm text-gray-600 mt-1 border-t border-black pt-1">
                    (–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Ä–≥–∞–Ω–∞, –æ—Ä–≥–∞–Ω–∞ –º–µ—Å—Ç–Ω–æ–≥–æ —Å–∞–º–æ—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
                </div>
            </div>

            <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
            <h1 class="text-xl font-bold text-center my-6">–õ–ò–°–¢ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –î–û–ö–£–ú–ï–ù–¢–û–í</h1>

            <!-- –†–µ–∫–≤–∏–∑–∏—Ç—ã -->
            <div class="flex justify-center items-center gap-8 mb-6 flex-wrap">
                <div class="flex items-center gap-2">
                    <span>–§–æ–Ω–¥ ‚Ññ</span>
                    <input type="text" id="fond" class="input-field number-input" placeholder="...">
                </div>
                <div class="flex items-center gap-2">
                    <span>–û–ø–∏—Å—å ‚Ññ</span>
                    <input type="text" id="opis" class="input-field number-input" placeholder="...">
                </div>
                <div class="flex items-center gap-2">
                    <span>–ï–¥.—Ö—Ä. ‚Ññ</span>
                    <input type="text" id="ed-hr" class="input-field number-input" placeholder="...">
                </div>
            </div>

            <!-- –¢–∞–±–ª–∏—Ü–∞ -->
            <table class="document-table">
                <thead>
                    <tr>
                        <th style="width: 15%;">–î–∞—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</th>
                        <th style="width: 20%;">–ö–æ–º—É –≤—ã–¥–∞–Ω–æ: —Ñ–∞–º–∏–ª–∏—è, –∏–Ω–∏—Ü–∏–∞–ª—ã (—Ä–∞–∑–±–æ—Ä—á–∏–≤–æ)</th>
                        <th style="width: 25%;">–•–∞—Ä–∞–∫—Ç–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤—ã–ø–∏—Å–∫–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä)</th>
                        <th style="width: 15%;">‚Ññ‚Ññ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –ª–∏—Å—Ç–æ–≤</th>
                        <th style="width: 25%;">–ü–æ–¥–ø–∏—Å—å –ª–∏—Ü–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–µ–≥–æ –¥–µ–ª–æ</th>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>2</td>
                        <td>3</td>
                        <td>4</td>
                        <td>5</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" id="date" class="input-field table-input" placeholder="–î–î.–ú–ú.–ì–ì–ì–ì"></td>
                        <td><input type="text" id="komu" class="input-field table-input" placeholder="..."></td>
                        <td>
                            <select id="harakter" class="input-field table-input">
                                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                                <option value="–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ">–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                                <option value="–í—ã–ø–∏—Å–∫–∏">–í—ã–ø–∏—Å–∫–∏</option>
                                <option value="–ü—Ä–æ—Å–º–æ—Ç—Ä">–ü—Ä–æ—Å–º–æ—Ç—Ä</option>
                            </select>
                        </td>
                        <td><input type="text" id="listy" class="input-field table-input" placeholder="..."></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="no-print mt-6 flex justify-center gap-4 flex-wrap">
            <button onclick="checkAnswers()" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition transform hover:scale-105">
                ‚úì –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
            </button>
            <button onclick="resetForm()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition">
                üîÑ –°–±—Ä–æ—Å–∏—Ç—å
            </button>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
        <div id="result" class="no-print mt-6 hidden rounded-xl">
        </div>
    </div>

    <script>
        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞
        const urlParams = new URLSearchParams(window.location.search);
        const isExamMode = urlParams.get('mode') === 'exam';
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∂–∏–º–∞
        const MODE_CONFIG = {
            training: {
                time: 600, // 10 –º–∏–Ω—É—Ç
                showHints: true,
                allowMultipleAttempts: true,
                title: 'üìù –õ–∏—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤'
            },
            exam: {
                time: 420, // 7 –º–∏–Ω—É—Ç
                showHints: false,
                allowMultipleAttempts: false,
                title: 'üéì –≠–∫–∑–∞–º–µ–Ω: –õ–∏—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤'
            }
        };
        
        const currentMode = isExamMode ? MODE_CONFIG.exam : MODE_CONFIG.training;
        let attemptsMade = 0;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
        document.querySelector('.gradient-header h1').textContent = currentMode.title;
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ–∂–∏–º–∞
        if (isExamMode) {
            const header = document.querySelector('.gradient-header .max-w-6xl');
            const examBadge = document.createElement('div');
            examBadge.className = 'mt-4 inline-block bg-red-500 text-white px-6 py-2 rounded-full font-semibold';
            examBadge.innerHTML = '‚ö†Ô∏è –†–ï–ñ–ò–ú –≠–ö–ó–ê–ú–ï–ù–ê: –û–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞, –±–µ–∑ –ø–æ–¥—Å–∫–∞–∑–æ–∫';
            header.appendChild(examBadge);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–π –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì
        function getTodayDate() {
            const today = new Date();
            const day = String(today.getDate()).padStart(2, '0');
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const year = today.getFullYear();
            return `${day}.${month}.${year}`;
        }

        // –≠—Ç–∞–ª–æ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
        const correctAnswers = {
            'org-name': '–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è ¬´–£—á–µ–±–Ω—ã–π —Ü–µ–Ω—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏¬ª (–ê–ù–û –î–ü–û ¬´–£–¶–ò–ë¬ª)',
            'fond': '1',
            'opis': '2',
            'ed-hr': '56',
            'date': getTodayDate(),
            'komu': '–°–∫–æ–ø–∞ –ù.–ú.',
            'harakter': '–ü—Ä–æ—Å–º–æ—Ç—Ä',
            'listy': '7-8'
        };

        // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
        const alternativeAnswers = {
            'org-name': [
                '–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è ¬´–£—á–µ–±–Ω—ã–π —Ü–µ–Ω—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏¬ª (–ê–ù–û –î–ü–û ¬´–£–¶–ò–ë¬ª)',
                '–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è "–£—á–µ–±–Ω—ã–π —Ü–µ–Ω—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏" (–ê–ù–û –î–ü–û "–£–¶–ò–ë")',
                '–ê–ù–û –î–ü–û ¬´–£–¶–ò–ë¬ª',
                '–ê–ù–û –î–ü–û "–£–¶–ò–ë"'
            ],
            'komu': ['–°–∫–æ–ø–∞ –ù.–ú.', '–°–∫–æ–ø–∞ –ù. –ú.', '–°–∫–æ–ø–∞ –ù.–ú', '–°–∫–æ–ø–∞ –ù. –ú']
        };

        // –ù–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        const fieldNames = {
            'org-name': '–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏',
            'fond': '–§–æ–Ω–¥ ‚Ññ',
            'opis': '–û–ø–∏—Å—å ‚Ññ',
            'ed-hr': '–ï–¥.—Ö—Ä. ‚Ññ',
            'date': '–î–∞—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è',
            'komu': '–ö–æ–º—É –≤—ã–¥–∞–Ω–æ',
            'harakter': '–•–∞—Ä–∞–∫—Ç–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è',
            'listy': '‚Ññ‚Ññ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –ª–∏—Å—Ç–æ–≤'
        };

        // –§—É–Ω–∫—Ü–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
        function normalizeText(text) {
            return text.trim().replace(/\s+/g, ' ');
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞
        function checkAnswer(fieldId, userAnswer) {
            const normalized = normalizeText(userAnswer);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
            if (normalizeText(correctAnswers[fieldId]) === normalized) {
                return true;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
            if (alternativeAnswers[fieldId]) {
                for (const alt of alternativeAnswers[fieldId]) {
                    if (normalizeText(alt) === normalized) {
                        return true;
                    }
                }
            }
            
            return false;
        }

        // –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        const STORAGE_KEY = 'archiveTraining_progress';
        
        function getProgress() {
            const data = localStorage.getItem(STORAGE_KEY);
            return data ? JSON.parse(data) : {};
        }
        
        function saveProgressData(trainerId, data) {
            const progress = getProgress();
            if (!progress[trainerId]) {
                progress[trainerId] = {
                    attempts: 0,
                    bestScore: 0,
                    bestTime: null,
                    completed: false,
                    lastAttempt: null
                };
            }
            
            progress[trainerId] = { ...progress[trainerId], ...data };
            localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));
        }
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤
        function checkAnswers() {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ø—ã—Ç–æ–∫ –≤ —Ä–µ–∂–∏–º–µ —ç–∫–∑–∞–º–µ–Ω–∞
            if (isExamMode && attemptsMade >= 1) {
                return;
            }
            
            const fields = Object.keys(correctAnswers);
            let correctCount = 0;
            let incorrectFields = [];
            
            fields.forEach(fieldId => {
                const element = document.getElementById(fieldId);
                const userAnswer = element.value;
                const isCorrect = checkAnswer(fieldId, userAnswer);
                
                // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–ª–∞—Å—Å—ã
                element.classList.remove('correct', 'incorrect');
                
                if (isCorrect) {
                    element.classList.add('correct');
                    correctCount++;
                } else {
                    element.classList.add('incorrect');
                    incorrectFields.push(fieldNames[fieldId]);
                }
            });

            const totalFields = fields.length;
            const resultDiv = document.getElementById('result');
            resultDiv.classList.remove('hidden');

            const timeSpent = startTime - timeLeft;
            const progress = getProgress()['list-ispolzovaniya'] || {};
            const attempts = (progress.attempts || 0) + 1;
            const isNewBest = correctCount > (progress.bestScore || 0);
            const isFasterTime = !progress.bestTime || timeSpent < progress.bestTime;
            
            // –†–∞—Å—á–µ—Ç –æ—Ü–µ–Ω–∫–∏ –¥–ª—è —Ä–µ–∂–∏–º–∞ —ç–∫–∑–∞–º–µ–Ω–∞
            const percentage = (correctCount / totalFields) * 100;
            let grade = '';
            let gradeColor = '';
            
            if (isExamMode) {
                if (percentage >= 90) {
                    grade = '5 (–û—Ç–ª–∏—á–Ω–æ)';
                    gradeColor = 'text-green-600';
                } else if (percentage >= 75) {
                    grade = '4 (–•–æ—Ä–æ—à–æ)';
                    gradeColor = 'text-blue-600';
                } else if (percentage >= 60) {
                    grade = '3 (–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ)';
                    gradeColor = 'text-yellow-600';
                } else {
                    grade = '2 (–ù–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ)';
                    gradeColor = 'text-red-600';
                }
            }
            
            saveProgressData('list-ispolzovaniya', {
                attempts: attempts,
                bestScore: isNewBest ? correctCount : progress.bestScore,
                bestTime: (isNewBest || isFasterTime) ? timeSpent : progress.bestTime,
                completed: correctCount === totalFields,
                lastAttempt: new Date().toISOString(),
                lastScore: correctCount,
                examGrade: isExamMode ? grade : null
            });

            if (correctCount === totalFields) {
                resultDiv.innerHTML = `
                    <div class="bg-green-100 border-2 border-green-500 rounded-lg p-6 text-center">
                        <div class="text-5xl mb-4">üéâ</div>
                        <h3 class="text-2xl font-bold text-green-700 mb-2">–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω –≤–µ—Ä–Ω–æ!</h3>
                        <p class="text-green-600">–í—Å–µ ${totalFields} –∏–∑ ${totalFields} –ø–æ–ª–µ–π –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ.</p>
                        <div class="text-sm text-gray-600 mt-3">–í—Ä–µ–º—è: ${formatTime(timeSpent)} | –ü–æ–ø—ã—Ç–∫–∞: ${attempts}</div>
                        ${isExamMode ? `<div class="text-3xl font-bold ${gradeColor} mt-4">–û—Ü–µ–Ω–∫–∞: ${grade}</div>` : ''}
                        ${!isExamMode && isNewBest ? '<div class="text-sm text-green-600 mt-2">üèÜ –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!</div>' : ''}
                        ${!isExamMode && progress.bestScore ? `<div class="text-sm text-green-600 mt-1">–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${progress.bestScore}/${totalFields} –∑–∞ ${formatTime(progress.bestTime)}</div>` : ''}
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="bg-red-50 border-2 border-red-400 rounded-lg p-6">
                        <div class="text-center mb-4">
                            <div class="text-4xl mb-2">üìù</div>
                            <h3 class="text-xl font-bold text-red-700">–ï—Å—Ç—å –æ—à–∏–±–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑!</h3>
                        </div>
                        <div class="bg-white rounded p-4 mb-4">
                            <div class="flex justify-center items-center gap-4">
                                <div class="text-center">
                                    <div class="text-3xl font-bold text-green-600">${correctCount}</div>
                                    <div class="text-sm text-gray-600">–ø—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                                </div>
                                <div class="text-2xl text-gray-400">/</div>
                                <div class="text-center">
                                    <div class="text-3xl font-bold text-gray-600">${totalFields}</div>
                                    <div class="text-sm text-gray-600">–≤—Å–µ–≥–æ</div>
                                </div>
                            </div>
                            <div class="mt-3 bg-gray-200 rounded-full h-4 overflow-hidden">
                                <div class="bg-green-500 h-full transition-all duration-500" style="width: ${(correctCount/totalFields)*100}%"></div>
                            </div>
                            <div class="text-sm text-gray-600 mt-3 text-center">–í—Ä–µ–º—è: ${formatTime(timeSpent)} | –ü–æ–ø—ã—Ç–∫–∞: ${attempts}</div>
                            ${isExamMode ? `<div class="text-3xl font-bold ${gradeColor} mt-4 text-center">–û—Ü–µ–Ω–∫–∞: ${grade}</div>` : ''}
                            ${!isExamMode && progress.bestScore ? `<div class="text-sm text-green-600 mt-1 text-center">–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${progress.bestScore}/${totalFields} –∑–∞ ${formatTime(progress.bestTime)}</div>` : ''}
                        </div>
                        <div class="text-red-700">
                            <p class="font-semibold mb-2">‚ùå –û—à–∏–±–∫–∏ –≤ –ø–æ–ª—è—Ö:</p>
                            ${currentMode.showHints ? `<ul class="list-disc list-inside text-sm space-y-1">${incorrectFields.map(f => `<li>${f}</li>`).join('')}</ul>` : '<p class="text-sm text-gray-600">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ —ç–∫–∑–∞–º–µ–Ω–∞</p>'}
                            ${isExamMode ? '<div class="text-sm text-red-600 mt-2">‚ö†Ô∏è –í —Ä–µ–∂–∏–º–µ —ç–∫–∑–∞–º–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞</div>' : ''}
                        </div>
                    </div>
                `;
            }

            // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤ —Ä–µ–∂–∏–º–µ —ç–∫–∑–∞–º–µ–Ω–∞
            if (isExamMode) {
                attemptsMade++;
                const checkButton = document.querySelector('button[onclick="checkAnswers()"]');
                if (checkButton) {
                    checkButton.disabled = true;
                    checkButton.classList.add('opacity-50', 'cursor-not-allowed');
                    checkButton.textContent = '‚úì –≠–∫–∑–∞–º–µ–Ω –∑–∞–≤–µ—Ä—à–µ–Ω';
                }
            }
        }

        // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
        function resetForm() {
            const fields = Object.keys(correctAnswers);
            fields.forEach(fieldId => {
                const element = document.getElementById(fieldId);
                element.value = '';
                element.classList.remove('correct', 'incorrect');
            });
            
            document.getElementById('result').classList.add('hidden');
            document.getElementById('org-name').focus();
        }

        // –¢–∞–π–º–µ—Ä
        let timeLeft = currentMode.time;
        let timerInterval;
        let timerStarted = false;
        let startTime = currentMode.time;

        function startTimer() {
            if (timerStarted) return;
            timerStarted = true;
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    handleTimeUp();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            const timerElement = document.getElementById('timer-display');
            timerElement.textContent = display;
            
            if (timeLeft <= 120 && timeLeft > 0) {
                document.getElementById('timer').classList.add('timer-warning');
            }
            
            if (timeLeft <= 0) {
                timerElement.textContent = '0:00';
            }
        }

        function handleTimeUp() {
            alert('‚è∞ –í—Ä–µ–º—è –≤—ã—à–ª–æ! –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞—à–∏ –æ—Ç–≤–µ—Ç—ã...');
            checkAnswers();
        }

        // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±–Ω–æ–≤–ª—è–µ–º –¥–∞—Ç—É –≤ —ç—Ç–∞–ª–æ–Ω–µ
        document.addEventListener('DOMContentLoaded', function() {
            correctAnswers['date'] = getTodayDate();
            
            // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ñ–æ–∫—É—Å–µ –Ω–∞ –ª—é–±–æ–º –ø–æ–ª–µ
            const allInputs = document.querySelectorAll('input, select, textarea');
            allInputs.forEach(input => {
                input.addEventListener('focus', startTimer, { once: true });
            });
        });
    </script>
</body>
</html>
